-- Creamos el menú principal
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local GetKeyButton = Instance.new("TextButton")
local CheckKeyButton = Instance.new("TextButton")

-- Configuración de GUI
ScreenGui.Parent = game.CoreGui

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
Frame.Size = UDim2.new(0, 300, 0, 200)
Frame.Position = UDim2.new(0.5, -150, 0.5, -100)

TextBox.Parent = Frame
TextBox.PlaceholderText = "Ingresa tu clave..."
TextBox.Text = ""
TextBox.Size = UDim2.new(0, 250, 0, 50)
TextBox.Position = UDim2.new(0.5, -125, 0.1, 0)

GetKeyButton.Parent = Frame
GetKeyButton.Text = "Get Key"
GetKeyButton.Size = UDim2.new(0, 120, 0, 40)
GetKeyButton.Position = UDim2.new(0.2, -60, 0.5, -20)

CheckKeyButton.Parent = Frame
CheckKeyButton.Text = "Check Key"
CheckKeyButton.Size = UDim2.new(0, 120, 0, 40)
CheckKeyButton.Position = UDim2.new(0.8, -60, 0.5, -20)

-- Función para mostrar una notificación
local function showNotification(message)
    game.StarterGui:SetCore("SendNotification", {
        Title = "Aviso",
        Text = message,
        Duration = 5
    })
end

-- Función para copiar el enlace al portapapeles
GetKeyButton.MouseButton1Click:Connect(function()
    setclipboard("https://link-hub.net/629983/key")
    showNotification("Link copiado al portapapeles.")
    print("¡Link copiado al portapapeles!")
end)

-- Función para verificar la clave y ejecutar el script
CheckKeyButton.MouseButton1Click:Connect(function()
    local success, result = pcall(function()
        return game:HttpGet("https://raw.githubusercontent.com/diego987roher/RBLXHUB/refs/heads/main/KEY", true)
    end)

    if success then
        local validKey = result:match("^%s*(.-)%s*$") -- Elimina espacios innecesarios
        if TextBox.Text == validKey then
            print("Clave correcta. Cerrando menú...")
            showNotification("Clave correcta.")
            ScreenGui:Destroy()
            -- Ejecutar el nuevo script
            loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/thaibao/main/TbaoHubRivals"))()
        else
            print("Clave incorrecta.")
            showNotification("Clave incorrecta. Intenta de nuevo.")
        end
    else
        print("Error al obtener la clave desde el enlace.")
        showNotification("Error al obtener la clave. Verifica tu conexión.")
    end
end)
